function createSvgContainer(n){var t=renderIconSample();return n?t.find(".logo-item-inner").append(n):t.addClass("logo-item-empty"),t.on("click",function(){var n=$(".logo-carousel").slick("getSlick");n.sliding||n.swiping||n.animating||(window.location=api.editorPage+"?lang="+api.language+"&logo="+$(this).find("svg").attr("data-guid")+"&companyname="+$(".companyName").val()+"&category="+category.val())}).show(),t}function createSvg(n){var t=getCompanyName();return new Promise(function(i){var r=new SvgTools;r.getthumb(n,t,null,function(t){$(t).attr("data-guid",n.guid);var r=$("<div><\/div>").append(t);i(r.children()[0])})})}function loadSvgIcons(n,t){return loading||carouselEnded?Promise.resolve(null):(loading=!0,new Promise(function(i){var r=JSON.stringify({page:n,pagesize:t,category:category.val(),owner:undefined,status:1,randomseed:randomseed});$.ajax({type:"post",url:api.logo+"list",data:r,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.obj&&((n.obj.length===0||n.obj.length<t)&&(carouselEnded=!0),self.objiconlist=self.objiconlist.concat(n.obj),Promise.all($.map(n.obj,createSvg)).then(i))})}))}function fillEmptyContainers(n){var t=$(".logo-carousel"),i=t.find(".logo-item-empty");$.each(n,function(n,t){var r=i.eq(n);r.length&&(r.find(".logo-item-inner").append(t),r.css({transitionDelay:n*50+"ms"}),r.removeClass("logo-item-empty"))})}function initSlickCarousel(n){var i=$(".logo-carousel-wrapper").first(),t=i.find(".logo-carousel"),r,u;if(t.length!==0){if(!n){var e=t.find(".logo-item"),o=t.find(".logo-item-empty"),f=Math.min(Math.max(totallogos,7),300)-e.length-o.length;if(f){for(r=$(document.createDocumentFragment()),u=0;u<f;u++)r.append(createSvgContainer());t.append(r)}}t.slick({slidesToShow:3,centerMode:!0,mobileFirst:!0,autoplay:!1,prevArrow:i.find(".carousel-arrow-left"),nextArrow:i.find(".carousel-arrow-right"),infinite:!1,initialSlide:curslide,waitForAnimate:!0,swipeToSlide:!0,speed:200,responsive:[{breakpoint:425,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:1080,settings:{slidesToShow:5}}]}).off("beforeChange").on("beforeChange",function(n,t,i,r){(curslide=r,window._carouselChanging)||!loading&&r>=self.objiconlist.length-3&&(curpage++,window._carouselChanging=!0,loadSvgIcons(curpage,NbrSlide).then(function(n){n&&fillEmptyContainers(n)}).then(function(){window._carouselChanging=!1;loading=!1}).catch(function(n){console.error(n)}))});window._carouselChanging=!0;t.slick("slickGoTo",curslide);window._carouselChanging=!1}}function replaceLogos(n){return Promise.all($.map(n,createSvg)).then(function(n){$(".logo-item svg[data-guid]").each(function(t,i){for(var r,u=$(i),o=u.attr("data-guid"),f=0,e=n.length;f<e;f++)if(r=$(n[f]),r.attr("data-guid")===o){u.closest(".logo-item").hasClass("slick-cloned")?u.replaceWith(r.clone()):u.replaceWith(r);return}})})}function slideImgChange(){slideImg=setTimeout(function(){$(".fondSlideImg").eq(slideImgIndex).removeClass("open").addClass("close");nextImgIndex=slideImgIndex==3?0:slideImgIndex+1;$(".fondSlideImg").eq(nextImgIndex).removeClass("close").addClass("open");slideImgIndex=nextImgIndex;slideImgChange()},3500)}var api=new Api,category=$("#category"),load=!0,totalpages,totallogos,curpage,fade=!0,randomseed=Math.random()*1e3,self=this,NbrSlide,FontListArr=[],loading=!1,curslide=2,carouselEnded=!1,renderIconSample,getCompanyName,searchKeyUpTimer,slideImg;self.objiconlist;clientViewport=function(){var n=window,t="inner";return"innerWidth"in window||(t="client",n=document.documentElement||document.body),{width:n[t+"Width"],height:n[t+"Height"]}};SlideNbr=function(){NbrSlide=clientViewport().width>1024?7:7};SlideNbr();loadIcons=function(n,t){$(".logo-mosaic").is(":visible")?loadStaticIcons():loadDynamicIcons(n,t)};loadDynamicIcons=function(n,t){var i=JSON.stringify({page:n,pagesize:t,category:category.val(),owner:undefined,status:1,randomseed:randomseed});$.ajax({type:"post",url:api.logo+"list",data:i,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){totalpages=n.vars.pages;totallogos=n.vars.qtd;curpage=n.vars.curpage;$(".list .page .loadicon").fadeOut(function(){$(this).remove()});load=!1;n.obj&&(n.obj.length===0&&(carouselEnded=!0),self.objiconlist=shuffleArray(n.obj),populateData())})};loadStaticIcons=function(){self.staticiconlist=["/Content/img/logo-samples/logo-airmax.png","/Content/img/logo-samples/logo-buddha-spa.png","/Content/img/logo-samples/logo-bunny-max.png","/Content/img/logo-samples/logo-maximum-media.png","/Content/img/logo-samples/logo-papernote.png","/Content/img/logo-samples/logo-red-horns.png","/Content/img/logo-samples/logo-smith-reeves.png","/Content/img/logo-samples/logo-vexom-media.png"];$(function(){populateData()})};loadIcons(undefined,NbrSlide);renderIconSample=function(n){return n?$('<div class="logo-item icon loadicon"><div class="logo-item-inner"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><i class="fa fa-spinner fa-spin fa-4x"><\/i><\/div><\/div>'):$('<div class="logo-item icon"><div class="logo-item-inner"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><\/div><\/div>')};getCompanyName=function(){var n=$(".companyName").val().trim();return n&&n.trim()!=""||(n="Company Name"),n};populateData=function(){function t(n){var t=$(".logo-carousel");r(n).then(function(n){t.slick("unslick").empty();$.each(n,function(n,i){t.append(i)});initSlickCarousel()})}function i(){var n=$(".logo-mosaic .logo-item").toArray().shuffle();$.each(n,function(n,t){var r=$(t),i=$('<div class="logo-img" data-logoindex="'+n+'"><\/div>');i.append('<img src="'+self.staticiconlist[n%self.staticiconlist.length]+'" />');r.find(".logo-item-inner").attr("data-logoindex",n).append(i);setTimeout(function(){$('[data-logoindex="'+n+'"]').removeClass("logo-hidden")},50*n)})}var n=null,r=function(n){var t=getCompanyName(),i=$.map(n,function(n){return new Promise(function(i){var r=new SvgTools;r.getthumb(n,t,null,function(t){$(t).attr("data-guid",n.guid);i(createSvgContainer(t))})})});return Promise.all(i)};return $(function(){var n,t=$(".logo-carousel");if(t.length>0)for(n=0;n<6;n++)t.append(renderIconSample(!0))}),function(){var r=$(".logo-carousel");r.length!==0&&r.is(":visible")?t(self.objiconlist):i(self.objiconlist);$(".companyName").on("keyup",function(){n&&clearTimeout(n);n=setTimeout(function(){fade=!1;replaceLogos(self.objiconlist).catch(function(n){console.error(n)})},500)});fade||(fade=!0)}}();runCarouselTestimonials=function(){$(".slider").find(".active").each(function(){$(this).next("input").trigger("click");$(this).is(":nth-last-child(2)")&&$(this).parent().find("input:first-child").trigger("click")})};changeSettings=function(){clearTimeout(searchKeyUpTimer);searchKeyUpTimer=setTimeout(function(){loadIcons(curpage,NbrSlide)},1e3)};$(".fondSlideImg");slideImgIndex=0;slideImgChange();$(".logo-example").on("click",function(){var n=$(this).attr("data-guid");window.location=api.editorPage+"?lang="+api.language+"&logo="+n+"&companyname="+$(".companyName").val()+"&category=9999"});category.on("change",function(){curpage=1;curslide=2;carouselEnded=!1;$(".logo-carousel").slick("slickSetOption","initialSlide",2);load||($(".list .page").empty(),load=!0);changeSettings()});$(".companyName").off("keyup").on("keyup",function(n){n.which===13&&$(".startAll").trigger("click")});$(".startAll").on("click",function(){window.location=api.editorPage+"?lang="+api.language+"&companyname="+$(".companyName").val()+"&category="+category.val()});$(".companyName01").off("keyup").on("keyup",function(n){n.which===13&&$(".startDontWait").trigger("click")});$(".startDontWait").on("click",function(){window.location=api.editorPage+"?lang="+api.language+"&companyname="+$(".companyDontWait").val()+"&category="+category.val()});$("#startNew").on("click",function(){window.location=api.editorPage+"?lang="+api.language});$(".companyName").on("keyup",function(n){var t="which"in n?n.which:n.keyCode;t===13&&$(".startAll").trigger("click")});$(".companyDontWait").on("keyup",function(n){var t="which"in n?n.which:n.keyCode;t===13&&$(".startDontWait").trigger("click")});$(function(){_is_home_page===!0?$("body").addClass("home-page"):$("body").removeClass("home-page");$(".slider").find(".slider-nav").on("click",function(){$(".slider-nav").removeClass("active");$(this).addClass("active")});setInterval(function(){runCarouselTestimonials()},1e4);initSlickCarousel(!0)})